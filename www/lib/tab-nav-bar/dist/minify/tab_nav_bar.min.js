/**
* @ngdoc overview
*
* @name com.tabNavBar.1fabiopereira
*
* @author Fábio Pereira <fabio.pereira.gti@gmail.com>
*
* @version 0.0.1
*
* @description
* This module aims to facilitate the creation of navigation tabs using the IONIC FRAMEWORK
*
* @todo - The next version will feature the pluguin Support Animated transitions
*
* @license
*  Copyright (c) 2016 Fábio Pereira
*
*  Permission is hereby granted, free of charge, to any person obtaining a copy
*  of this software and associated documentation files (the "Software"),
*  to deal in the Software without restriction, including without limitation the rights to use,
*  copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit
*  persons to whom the Software is furnished to do so, subject to the following conditions:
*
*
*  The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
*
*
*  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED
*  TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
*  THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
*  TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*
*
*/
!function(){"use strict";angular.module("com.tabNavBar.1fabiopereira",["ionic"]).directive("tabNavBar",["$rootScope","$ionicScrollDelegate","$timeout","$sce",function(t,a,e,n){var o,r,c,i=new Array,l=Array(0,0,0),d=new Array,b=function(n,b,p){function u(t){var a=new Array;n.tabActivated=parseInt(n.tabActivated),n.tabActivated=n.tabActivated&&n.tabActivated<t?n.tabActivated:0;for(var e=0;t>e;e++)e==n.tabActivated?a.push(1):a.push(0);return a}o!==n.$id&&(i=new Array),"[object Array]"==Object.prototype.toString.call(n.tabs)?r=n.tabs:function(){throw new TypeError("Field tabs expected Array")}(),"number"==typeof parseInt(n.tabActivated)?n.tabActivated=parseInt(n.tabActivated):function(){throw new TypeError("Field tab-activated expected Number")}(),c=u(r.length),n.active=c,function(){for(var t="",a=0;a<r.length;a++)t+='<a class="button" id="tab'+(a+1)+"\"><span ng-class=\"{'ativo': active["+a+']}">'+r[a]+"</span></a>";n.generateTemplate=t}(),t.$on("new_blocks",function(t,a){d=a;for(var e=d.length,n=0;e>n;n++)c[n]||d[n].addClass("ng-hide")}),t.$on("swipe_left",function(t,a){var n=parseInt(a)-1;e(function(){n>-1&&angular.element(i[n]).triggerHandler("click")},50)}),t.$on("swipe_right",function(t,a){var n=parseInt(a)+1;e(function(){r.length>n&&angular.element(i[n]).triggerHandler("click")},50)}),t.$on("scroll_block",function(t,a){l[a.position]=a.scroll}),function(){var t=document.createElement("style");t.type="text/css",t.innerHTML="span.ativo {border-bottom: 3px solid"+n.tabActivatedColor+";padding-bottom: 4px;}#tab-nav, #tab-nav .button-bar, #tab-nav .button-bar a {background:"+n.backgroundColor+";color:"+n.textColor+";}*[id^='tab-nav-block-id-'] {background: "+n.backgroundBlockColor+";height: 100%;}a[id^='tab']{border: none !important;}"+document.getElementsByTagName("head")[0].appendChild(t)}(),e(function(){if(i=angular.element(document.querySelector(".child")).prop("children"),i.length)for(var t=0;t<i.length;t++)angular.element(i[t]).on("click",function(t){for(var e=angular.element(t.path?t.path[0]:t.target).prop("id").replace(/tab/g,""),o=0;o<r.length;o++)o==e-1?c[o]=!0:(c[o]=!1,angular.element(document.querySelector("#tab-nav-block-id-".concat(o+1))).addClass("ng-hide"));angular.element(document.querySelector("#tab-nav-block-id-".concat(e))).removeClass("ng-hide"),a.scrollTo(0,l[e-1],!0),n.active=c,n.$apply()})},200)};return{strict:"AE",link:b,template:"<div class='bar bar-subheader' id='tab-nav' tab-nav><div class='button-bar child' compile='generateTemplate'></div></div>",replace:!1,scope:{tabs:"=tabs",tabActivated:"@tabActivated",tabActivatedColor:"@tabActivatedColor",backgroundColor:"@backgroundColor",backgroundBlockColor:"@backgroundBlockColor",textColor:"@textColor"},tranclude:!1}}]).directive("tabNavBlock",["$rootScope","$ionicGesture","$ionicScrollDelegate",function(t,a,e){var n=new Array,o=function(o,r,c){function i(t){for(var a,e=0;e<t.path.length;e++)angular.element(t.path[e]).prop("id")&&angular.element(t.path[e]).prop("id").match(/tab-nav-block-id-/g)&&(a=angular.element(t.path[e]).prop("id").replace(/tab-nav-block-id-/g,""),e=t.path.length);return a}r[0].id="tab-nav-block-id-".concat(o.id_block),n.push(r),n.length==(o.max||3)&&(t.$emit("new_blocks",n),n=new Array),a.on("swiperight",function(a){var e=i(a);e&&t.$emit("swipe_left",parseInt(e)-1)},r),a.on("swipeleft",function(a){var e=i(a);e&&t.$emit("swipe_right",parseInt(e)-1)},r),a.on("dragdown",function(a){var n=i(a);n&&t.$emit("scroll_block",{position:parseInt(n)-1,scroll:e.getScrollPosition().top})},r),a.on("dragup",function(a){var n=i(a);n&&t.$emit("scroll_block",{position:parseInt(n)-1,scroll:e.getScrollPosition().top})},r)};return{strict:"AE",link:o,scope:{id_block:"@tabNavBlock",max:"@limit"}}}])}();
